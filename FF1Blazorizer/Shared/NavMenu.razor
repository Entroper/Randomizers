@using System.Net.Http.Json
@inject HttpClient  Http
<div>
	<NavLink class="ffr-nav" href="" Match=NavLinkMatch.All>
		@(VersionString)
	</NavLink>
	<NavLink class="ffr-nav" href="Randomize">
		<span class="oi oi-random" aria-hidden="true"></span> Randomize
	</NavLink>
	<NavLink class="ffr-nav" href="WhatsNew">
		<span class="oi oi-question-mark" aria-hidden="true"></span> Help!
	</NavLink>
	<NavLink class="ffr-nav" href="https://github.com/FiendsOfTheElements/FF1Randomizer/releases">
		<span class="oi oi-data-transfer-download" aria-hidden="true"></span> Download
	</NavLink>
	<NavLink class="ffr-nav" href="https://github.com/FiendsOfTheElements/FF1Randomizer/issues">
		<span class="oi oi-bug" aria-hidden="true"></span> Report a Bug
	</NavLink>
</div>
@code {
    string VersionString = "";
    protected override async void OnInitialized() {
        FF1Lib.FFRVersion Version = await Http.GetFromJsonAsync<FF1Lib.FFRVersion>("/version.json");
        VersionString = Version.Version;
        if (Version.Branch == "dev")
        {
			VersionString += " Beta";
        } else if (Version.Branch == "alpha")
        {
			VersionString += " Alpha : " + Version.Sha; 
        } else
        {
			VersionString += " " + Version.Branch;
        }
        StateHasChanged();
    }
}
